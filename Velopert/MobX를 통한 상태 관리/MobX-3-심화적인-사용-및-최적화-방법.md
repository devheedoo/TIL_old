# MobX (3) 심화적인 사용 및 최적화 방법

조금 더 복잡한 프로젝트에서의 MobX 사용 방법을 배웁니다. 추가로 컴포넌트의 업데이트 성능을 최적화합니다.

## 3-1. 슈퍼마켓 구현하기

심화 과정을 위해 슈퍼마켓을 구현해보겠습니다. 좌측의 상품을 누를 때마다 우측의 장바구니에 개수가 한 개씩 늘어납니다. 장바구니에서는 총합을 계산해주고, 갖다놓기를 누르면 1개씩 되돌려놓습니다.

**NOTE:** [mobx-react-devtools](https://github.com/mobxjs/mobx-react-devtools)는 DEPRECATED 되었습니다. 대신 [브라우저 플러그인](https://github.com/mobxjs/mobx-devtools)을 사용합니다.

추가로 기존에 구현했던 Counter를 이용해 한 번에 `counter`만큼씩 장바구니에 담도록 기능을 수정해봅니다.

## 3-2. MobX의 리액트 컴포넌트 최적화

1. 리스트를 렌더링할 땐, 컴포넌트에 리스트 관련 데이터만 props로 넣자
   - 하위 컴포넌트로 분리하면 비효율적으로 리렌더링되는 걸 막을 수 있습니다.
2. 세부참조(dereference)는 최대한 늦게 하자
   - 객체 내부의 값은 최대한 마지막에 조회하는 걸 말합니다.
3. 함수는 미리 바인딩하고, 파라미터는 내부에서 넣어주기
   - 인라인에서 `() => { ... }` 하지 않고 `functionName = () => { ... }` 처럼 미리 정의하기
   - 함수를 파라미터로 넘겨주다가 최대한 내부에서 파라미터 넣기

