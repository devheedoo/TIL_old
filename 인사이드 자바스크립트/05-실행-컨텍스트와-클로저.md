## 05-실행-컨텍스트와-클로저

**실행 컨텍스트**란 실행 가능한 자바스크립트 코드 블록이 실행되는 환경을 말한다.

현재 실행되는 컨텍스트에서 이 컨텍스트와 관련 없는 실행 코드가 실행되면, 새로운 컨텍스트가 생성되어 스택에 들어가고 제어권이 그 컨텍스트로 이동한다.

실행 컨텍스트가 형성되는 경우:

- 전역 코드 실행
- eval() 함수로 실행되는 코드 실행
- 함수 안의 코드 실행

함수 실행 시 실행 컨텍스트 생성 과정:

1. 활성 객체 생성: 실행에 필요한 정보를 담을 객체 생성
2. arguments 객체 생성
3. 스코프 정보 생성
4. 변수 생성: 메모리에 생성만 하고 초기화는 이루어지지 않음
5. this 바인딩: this가 없을 경우 전역 객체 참조
6. 코드 실행: 변수의 초기화 및 연산 등을 포함한 코드 진행

스코프 체인:

- 자바스크립트에서는 함수만이 유효 범위의 단위가 된다.
- 이 유효 범위를 나타내는 스코프가 `[[scope]]` 프로퍼티로 각 함수 내에서 연결 리스트 형식으로 관리되는데, 이를 **스코프 체인**이라고 한다.
- 각 실행 컨텍스트의 변수 객체가 구성 요소인 리스트와 같다.
- 현재 실행 컨텍스트의 변수 객체 + 상위 컨텍스트의 스코프 체인

클로저:

- 생명 주기가 끝난 외부 함수의 변수 객체를 참조하는 함수를 **클로저**라고 한다.
- 클로저로 참조되는 외부 변수를 **자유 변수**라고 한다.

```javascript
function outerFunc() {
  var x = 10; // 자유 변수
  var innerFunc = function() { console.log(x); }
  return innerFunc;
}

var inner = outerFunc();
inner(); // 클로저
```

