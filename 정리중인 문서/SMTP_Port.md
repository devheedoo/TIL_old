# SMTP에 사용하는 포트

[Which SMTP Port Should I Use? Understanding Ports 25, 465, & 587](https://www.mailgun.com/blog/which-smtp-port-understanding-ports-25-465-587) (written by Travis Swientek) 글을 읽고 필요한 내용만 옮겨적으며 정리해보았다.

## 역사적인 관점

1982년 캘리포니아 남부 대학에서 Internet Engineering Task Force (IETF) 에 인터넷 이메일을 위한 기본 전송(transmission) 채널로 25번 포트를 사용하길 제안했고, 이는 지금까지 사용되고 있다.

1998년 12월, R. Gellens와 J. Klensin은 메세지 제출(submission)과 전달(relay)을 분리하는 걸 제안했고, 이 때 제출에 587번 포트를, 전달에 25번 포트를 사용하는 것을 제안했다.

### 그럼 465번 포트는 뭐지?

흥미롭게도 465번 포트는 IETF에서 공식적으로 사용한 적이 없다. 대신, Internet Assigned Numbers Authority (IANA) 에서 SMTPS를 위해 465번 포트를 등록했다. 이는 SSL을 이용해 SMTP를 동작시키기 위해서였다.

## 오늘날의 포트 사용

### 25번 포트

지금도 기본적인 STMP 전달(relaying)에 사용되고 있다. 이메일 서버에서 이메일 서버로 전송하는 걸 의미한다.

대부분의 경우 현대 SMTP 클라이언트는 이 포트를 사용해선 안 된다. ISP들과 클라우트 호스팅 제공자들은 스팸을 막기 위해 25번 포트를 막는다. 특별한 이유가 없으면 이 포트를 사용해선 안 된다.

### 465번 포트

IANA가 사용을 제안한 포트이지만, 현재 거의 사용되지 않고 있다. 그러나 IANA가 발의했을 당시에는 여러 시스템들이 이 연결을 사용했다.

> (내 생각으로는) 결과적으로 일부가 아직 사용중이지만 현재는 권장하지 않는다는 의미인 것 같다.

### 587번 포트

현재 기본 메일 전송 포트이다. 적절한 메일 서버라면, 항상 이 포트를 사용해야 한다.

> TLS 암호화 쌍으로 연결된 이 포트는 이메일이 안전하게, 그리고 IETF의 가이드라인을 따르고 있다는 것을 말해준다.

## 의견

현재 업무를 진행하다보면 25번 포트를 사용해 SMTP를 인증하는 메일서버들이 많다. 게다가 RDNS 설정을 하지 않은 곳들이 많아서 사내 웹방화벽 설정에서 RDNS 예외처리를 계속 추가하다 못해 전체 예외설정을 걸어둔 상태다.

메일서버를 관리하는 분들이 프로토콜과 보안에 대한 내용을 숙지해서 함께 개선해야 할 부분이다. 생각해보니 현재 사내 메일서버도 SMTP 인증 포트를 587로 바꾸려다가 잘 되지 않았던 기억이...
